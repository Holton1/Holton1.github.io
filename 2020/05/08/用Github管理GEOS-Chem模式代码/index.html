<html>
<head>
	
	<title>用Github管理GEOS-Chem模式代码</title>
	<meta name="keywords" content="" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css" />
        
<script src="/js/util.js"></script>

        <script>
            if(isMobile()) {
                loadjscssfile('../../../../css/mobile.css', 'css');
            } else {
                loadjscssfile('../../../../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v=3"/>
    
    

<meta name="generator" content="Hexo 5.4.0"></head>

<body>




<h2 class="title">用Github管理GEOS-Chem模式代码</h2>
<div style="margin-top: -10px;">
        

<script src="/js/util.js"></script>

<script>
    if(isMobile()) {
        loadjscssfile('../../../../css/mobile.css', 'css');
    } else {
        loadjscssfile('../../../../css/desktop.css', 'css');
    }
</script> 

<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text">创建远程仓库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text">推送本地项目到远程仓库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B0%E5%88%86%E6%94%AF%EF%BC%8C%E6%B3%A8%E9%87%8A%E5%B9%B6%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E4%BF%AE%E6%94%B9"><span class="toc-text">创建新分支，注释并推送本地修改</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol>
<p>随着使用模式不断深入，经常需要修改模式代码。但是又担心修改过多导致混乱。所以今天下决心学习一下用Github管理项目代码。我参考了廖雪峰的教程和一些博客，感谢他们的奉献。</p>
<p>目前我仅学习了如何在本地项目建立分支（branch），如何注释自己的修改，并将修改后的版本推送到Github仓库里。未来学习了更多实用方法，我会更新这篇文章。下面我介绍一下操作方法。</p>
<h1 id="创建远程仓库"><a href="#创建远程仓库" class="headerlink" title="创建远程仓库"></a>创建远程仓库</h1><p>首先在Github上创建一个空的仓库。创建完后，为了避免push的时候出现冲突，我删除了其中所有的东西。（PS 如果不想代码对外公开，创建仓库的时候可以选择Private resposity，这样别人就看不见了。现在创建私人仓库已经免费了，感谢微软。）</p>
<h1 id="推送本地项目到远程仓库"><a href="#推送本地项目到远程仓库" class="headerlink" title="推送本地项目到远程仓库"></a>推送本地项目到远程仓库</h1><p>然后进入本地项目的根目录，在我这里是GEOS-Chem模式的Code Directory。因为GEOS-Chem原本就是用Github托管的，本地的模式已经连接了官方的仓库，我要取消和官方仓库的连接，并和我自己的仓库连接。首先删除和官方远程仓库origin的连接：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote rm origin</span></span><br></pre></td></tr></table></figure>
<p>然后建立和我的Github仓库<code>Holton1/GEOS-Chem-12.5.0</code>的连接：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote add origin https://github.com/Holton1/GEOS-Chem-12.5.0.git</span></span><br></pre></td></tr></table></figure>
<p>然后推送到我的Github仓库里：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push -f origin master</span></span><br></pre></td></tr></table></figure>

<p>现在可以看见远程仓库里已经有模式代码了。但是检查了一下发现，我之前没有使用Github时已经做了一些修改，这些修改并没有被推送上去。推送上去的就是我最开始下载的原始版本模式。因为我推送的是模式的master branch，而我的修改并没有加入master branch。</p>
<h1 id="创建新分支，注释并推送本地修改"><a href="#创建新分支，注释并推送本地修改" class="headerlink" title="创建新分支，注释并推送本地修改"></a>创建新分支，注释并推送本地修改</h1><p>下面创建一个新的branch，我的修改都在这个branch上。还是在本地模式根目录，用下面的命令创建新的branch，名字叫mywork：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b mywork</span></span><br></pre></td></tr></table></figure>

<p>检查目前在什么branch上：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br></pre></td></tr></table></figure>
<p>发现我现在已经在mywork branch了。下面我给以前做的工作加注释，并把新的branch推送到远程仓库：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add .</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&quot;My previous work&quot;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin mywork</span></span><br></pre></td></tr></table></figure>
<p>现在到Github仓库，把branch改成mywork，检查代码。我看到了我之前做的修改！</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>Github管理版本非常方便。以后学到了新技巧会更新本文。</p>

</div>

<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=&web_id=" language="JavaScript"></script>script>
</div>

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = http://www.androidperformance.com/;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://rumzhao.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            





</body>
</html>